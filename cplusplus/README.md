# C++

## Set up development environment

With Clang, CMake and Sublime Text

### Clang

- Install the [latest binaries for Windows 64 bit](http://releases.llvm.org/download.html).
- No need to add Clang to the path. You can instead define an alias if you want
  to access it from the command line:
```sh
alias clang="C:\\Program Files\\LLVM\\bin\\clang.exe" $*
alias clang++="C:\\Program Files\\LLVM\\bin\\clang++.exe" $*
```
etc.

Compile a single file:
```sh
clang++ *.cpp -o main.exe
```

Compile and link multiple files in single step:
```sh
clang++ main.cpp test.cpp -o main.exe
```

Compile single source code file into object code (preprocess, compile and assemble):
```sh
clang++ -c test.cpp -Ipath/to/includes
```

Link to single executable:
```sh
clang++ main.o test.o -o main.exe
```

### CMake

CMake is compiler- and platform-independent. It uses a general format to
generate the configuration files for different tools, and then performs the
actual build step.

- Download the [latest binaries for win64](https://cmake.org/download/).
- No need to add CMake to the path, you can instead define an alias:
```sh
alias cmake="C:/Program Files/CMake/bin/cmake.exe" $*
```

Resources:
- [LLVM CMake primer](https://llvm.org/docs/CMakePrimer.html)
- [Presentation on modern CMake](https://github.com/boostcon/cppnow_presentations_2017/blob/master/05-19-2017_friday/effective_cmake__daniel_pfeifer__cppnow_05-19-2017.pdf)
- [C++ Weekly: Intro to CMake (Video)](https://www.youtube.com/watch?v=HPMvU64RUTY)

### Ninja

Ninja is a build tool similar to make, but faster and simpler. It is available
for different platforms as a single executable.
- Download the [Ninja binary](https://ninja-build.org/)
- Put it on the path and make sure you can call `ninja`. Currently I did not
  find a way to configure it in the command line.
- Use the Ninja generator in CMake: `cmake -G Ninja`

### Makefiles

- [Compilation](https://www.cs.fsu.edu/~myers/c++/notes/compilation.html)
- [Compilation with gcc](https://www.cs.fsu.edu/~myers/howto/g++compiling.txt)
- [Makefiles](https://www.cs.fsu.edu/~myers/howto/makefiles.txt)


### Sublime Text Integration

- Install the `CMake` package for syntax highlighting of `CMakeLists.txt`.
- Install `EasyClangComplete` for fully-fledged auto-completion. It uses CMake
  to generate the necessary symbols.
- Define the correct paths to the Clang and CMake executables in your
  `EasyClangComplete.sublime-settings`, if they are not on `PATH`:
```json
{
    "cmake_binary": "C:\\Program Files\\CMake\\bin\\cmake.exe",
    "clang_binary": "C:\\Program Files\\LLVM\\bin\\clang++.exe"
}
```
- See [the documentation](https://niosus.github.io/EasyClangComplete/settings/)
  for more settings. You can also add project-specific settings. You need to
  prefix the option name with `ecc_` in your `.sublime-project`. Especially
  have a look at:
  - `common_flags`: Flags that are passed to clang for every compilation,
    for example include directories
  - `flags_sources`: Flags that are generated by build system or loaded from
    an external file. Note that common_flags are always appended.
   
